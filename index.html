// API.js

// Function to fetch the code from the external website
async function fetchCodeFromExternalWebsite() {
    try {
        const response = await fetch('https://your-external-website.com/getcode'); // Replace with the actual URL
        const data = await response.json();

        if (data.code === 252500) {
            // If the code is valid, return the username
            return data.username;
        } else {
            return null;
        }
    } catch (error) {
        console.error('Error fetching code:', error);
        return null;
    }
}

// Function to create and show a div with the fetched username
async function showUsernameDiv() {
    // Fetch the username from the external website
    const fetchedUsername = await fetchCodeFromExternalWebsite();

    // Create a div to display the username
    const usernameDiv = document.createElement('div');
    usernameDiv.id = 'usernameDiv';
    usernameDiv.textContent = `Logged in as: ${fetchedUsername || 'Guest'}`; // Default to 'Guest' if no username

    // Style the div (you can customize these styles)
    usernameDiv.style.position = 'fixed';
    usernameDiv.style.bottom = '10px';
    usernameDiv.style.left = '10px';
    usernameDiv.style.backgroundColor = '#3498db';
    usernameDiv.style.color = '#fff';
    usernameDiv.style.padding = '10px';
    usernameDiv.style.borderRadius = '5px';

    // Append the div to the body
    document.body.appendChild(usernameDiv);
}

// Automatically show the username div when the page loads
document.addEventListener('DOMContentLoaded', showUsernameDiv);
