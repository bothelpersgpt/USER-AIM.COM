// API.js

// Function to fetch the code from the external website
async function fetchCodeFromExternalWebsite() {
    try {
        const response = await fetch('https://user-aim.page-home.workers.dev/getcode'); // Replace with the actual URL
        const data = await response.json();

        if (data.code === 252500) {
            // If the code is valid, return the username
            return data.username;
        } else {
            return null;
        }
    } catch (error) {
        console.error('Error fetching code:', error);
        return null;
    }
}

// Function to update game information with the fetched username
async function updateGameInformation() {
    // Get the game info container
    const gameInfoContainer = document.querySelector('.game-info');

    // Fetch the username from the external website
    const fetchedUsername = await fetchCodeFromExternalWebsite();

    // Update the game information with the fetched username
    if (fetchedUsername) {
        gameInfoContainer.innerHTML = `
            <h2>Game exxx</h2>
            <p>Welcome, ${fetchedUsername}! This game isn't ready for launch yet. Please check back later for updates.</p>
            <p><strong>Developed by:</strong> BloxiaIam</p>
        `;
    } else {
        // If the username is not available, show default message
        gameInfoContainer.innerHTML = `
            <h2>Game exxx</h2>
            <p>Sorry, this game isn't ready for launch yet. Please check back later for updates.</p>
            <p><strong>Developed by:</strong> BloxiaIam</p>
        `;
    }
}

// Automatically update game information when the page loads
document.addEventListener('DOMContentLoaded', updateGameInformation);
